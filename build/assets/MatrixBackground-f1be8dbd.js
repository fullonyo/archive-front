import{j as c}from"./utils-18d47d81.js";import{r as u}from"./vendor-830b07d7.js";const k=({theme:n="vrchat"})=>{const g=u.useRef(null),i=typeof n=="string"&&(n==="vrchat"||n==="default")?n:"vrchat",h={default:{background:["#0f0f23","#1e1b4b","#312e81","#1e1b4b"],shapes:{primary:"rgba(99, 102, 241, 0.15)",secondary:"rgba(139, 92, 246, 0.1)",tertiary:"rgba(59, 130, 246, 0.05)",stroke:"rgba(99, 102, 241, 0.4)"},particles:["rgba(99, 102, 241, {alpha})","rgba(139, 92, 246, {alpha})","rgba(59, 130, 246, {alpha})","rgba(34, 197, 94, {alpha})"],lines:"rgba(139, 92, 246, 0.2)"},vrchat:{background:["#0a0a0f","#1a0a2e","#16213e","#0f3460"],shapes:{primary:"rgba(0, 255, 255, 0.25)",secondary:"rgba(255, 0, 255, 0.2)",tertiary:"rgba(50, 255, 50, 0.15)",stroke:"rgba(0, 255, 255, 0.8)"},particles:["rgba(0, 255, 255, {alpha})","rgba(255, 0, 255, {alpha})","rgba(50, 255, 50, {alpha})","rgba(255, 50, 255, {alpha})","rgba(0, 255, 150, {alpha})","rgba(255, 255, 0, {alpha})"],lines:"rgba(0, 255, 255, 0.4)"}},o=h[i]||h.default;return u.useEffect(()=>{const e=g.current;if(!e)return;let a;try{if(a=e.getContext("2d"),!a){console.warn("MatrixBackground: Failed to get 2D context");return}}catch(r){console.error("MatrixBackground: Error getting canvas context:",r);return}const l=()=>{try{e.width=window.innerWidth,e.height=window.innerHeight}catch(r){console.error("MatrixBackground: Error in handleResize:",r)}};l();const b=[];for(let r=0;r<15;r++)b.push({x:Math.random()*e.width,y:Math.random()*e.height,size:Math.random()*100+50,rotation:0,rotationSpeed:(Math.random()-.5)*.02,opacity:Math.random()*.1+.05,type:Math.floor(Math.random()*3)});function f(r){a.save(),a.globalAlpha=r.opacity,a.translate(r.x,r.y),a.rotate(r.rotation);const t=a.createRadialGradient(0,0,0,0,0,r.size);t.addColorStop(0,o.shapes.primary),t.addColorStop(.5,o.shapes.secondary),t.addColorStop(1,o.shapes.tertiary),a.fillStyle=t,a.strokeStyle=o.shapes.stroke,a.lineWidth=i==="vrchat"?2:1,r.type===0?(a.beginPath(),a.moveTo(0,-r.size/2),a.lineTo(-r.size/2,r.size/2),a.lineTo(r.size/2,r.size/2),a.closePath()):r.type===1?(a.beginPath(),a.rect(-r.size/2,-r.size/2,r.size,r.size)):(a.beginPath(),a.arc(0,0,r.size/2,0,Math.PI*2)),a.fill(),a.stroke(),a.restore()}let s;function d(){try{const r=a.createLinearGradient(0,0,0,e.height);o.background.forEach((t,m)=>{r.addColorStop(m/(o.background.length-1),t)}),a.fillStyle=r,a.fillRect(0,0,e.width,e.height),b.forEach(t=>{t.rotation+=t.rotationSpeed,f(t)}),s=requestAnimationFrame(d)}catch(r){console.error("MatrixBackground: Error in animation frame:",r),s=requestAnimationFrame(d)}}return d(),window.addEventListener("resize",l),()=>{try{s&&cancelAnimationFrame(s),window.removeEventListener("resize",l)}catch(r){console.error("MatrixBackground: Error in cleanup:",r)}}},[i,o]),c.jsxs(c.Fragment,{children:[c.jsx("canvas",{ref:g,className:"absolute inset-0 z-0",style:{background:"#000"},"aria-hidden":"true"}),c.jsx("div",{className:`absolute inset-0 z-10 ${i==="vrchat"?"bg-gradient-to-br from-black/20 via-transparent to-black/30":"bg-gradient-to-br from-black/40 via-transparent to-black/40"}`})]})};export{k as default};
